---
import Layout from "../layouts/Layout.astro";
import Nav from "../components/Nav.astro";
import Hero from "../components/Hero.astro";
import About from "../components/About.astro";
import HowWeBuy from "../components/HowWeBuy.astro";
import Criteria from "../components/Criteria.astro";
import Promise from "../components/Promise.astro";
import CtaSection from "../components/CtaSection.astro";
import Footer from "../components/Footer.astro";
import { loadHomePage } from "../lib/loadPageContent";

// Load from content files (works in CI where tina/__generated__ is not present).
// When running locally with Tina, the same files are edited in the admin.
const homeData = loadHomePage();
const data = homeData as Record<string, Record<string, unknown>> | null;
---

<Layout>
	<Nav />
	<Hero data={data?.hero} />
	<About data={data?.about} />
	<HowWeBuy data={data?.how} />
	<Criteria data={data?.criteria} />
	<Promise data={data?.promise} />
	<CtaSection data={data?.cta} />
	<Footer />
</Layout>
